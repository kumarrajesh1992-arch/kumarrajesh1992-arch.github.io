/* =========================
   ROOT VARIABLES
========================= */
:root{
  --bg: #f4f6f2;
  --panel: #ffffff;
  --ink: #1f2933;
  --muted: #5b6770;
  --border: #dde3da;
  --shadow: 0 10px 24px rgba(17, 24, 39, .08);
  --accent: #2f4f2f;
  --accent-soft: rgba(47, 79, 47, .10);
  --radius: 14px;
  --max: 1000px;
}

/* =========================
   GLOBAL RESET
========================= */
*{
  box-sizing: border-box;
}

body{
  margin: 0;
  font-family: "Inter", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background: var(--bg);
  color: var(--ink);
  line-height: 1.6;
}

/* =========================
   LINKS
========================= */
a{
  color: var(--accent);
  font-weight: 600;
  text-decoration: underline;
  text-decoration-thickness: 1px;
  text-underline-offset: 3px;
}

a:hover{
  text-decoration-thickness: 2px;
}

/* =========================
   HEADER & NAV
========================= */
header{
  max-width: var(--max);
  margin: 48px auto 22px;
  padding: 0 20px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
}

header h1{
  margin: 0;
  font-family: "Source Serif 4", serif;
  font-weight: 600;
  font-size: 28px;
  letter-spacing: .2px;
}

nav{
  display: flex;
  align-items: center;
  gap: 18px;
  flex-wrap: wrap;
}

nav a{
  font-weight: 600;
  font-size: 14px;
  padding: 8px 10px;
  border-radius: 999px;
  text-decoration: none;
}

nav a:hover{
  background: var(--accent-soft);
}

/* =========================
   LAYOUT
========================= */
main{
  max-width: var(--max);
  margin: 0 auto;
  padding: 0 20px 60px;
}

.card{
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}

/* =========================
   HERO
========================= */
.hero{
  padding: 34px 28px;
  text-align: center;
  margin-top: 10px;
}

.hero .kicker{
  display: inline-block;
  font-weight: 700;
  letter-spacing: .08em;
  text-transform: uppercase;
  font-size: 12px;
  color: var(--accent);
  background: var(--accent-soft);
  border: 1px solid rgba(47,79,47,.18);
  padding: 7px 10px;
  border-radius: 999px;
  margin-bottom: 14px;
}

.hero h2{
  margin: 0 0 10px;
  font-family: "Source Serif 4", serif;
  font-size: 30px;
  line-height: 1.15;
}

.hero p{
  margin: 0 auto;
  max-width: 78ch;
  color: var(--muted);
  font-size: 16px;
}

/* =========================
   SECTIONS
========================= */
.section{
  margin-top: 18px;
}

.section .card{
  padding: 22px;
}

.section h3{
  margin: 0 0 12px;
  font-family: "Source Serif 4", serif;
  font-size: 22px;
}

.section p{
  margin: 0;
  color: var(--muted);
  font-size: 15px;
}

/* =========================
   DATA LIST (NO BULLETS)
========================= */
.section ul{
  list-style: none;
  padding-left: 0;
  margin: 8px 0 0;
}

.section li{
  margin-bottom: 14px;
  font-size: 15px;
  color: var(--muted);
}

.section li strong{
  color: var(--ink);
  font-weight: 600;
}

/* =========================
   VISUALISATIONS
========================= */
.viz{
  margin-top: 26px;
}

/* Keep text LEFT aligned */
.viz h4,
.viz .caption{
  text-align: left;
}

/* Center charts only */
.viz figure{
  display: flex;
  justify-content: center;
  margin: 12px 0;
}

.viz h4{
  margin: 0 0 10px;
  font-size: 15px;
  font-weight: 800;
}

.caption{
  margin-top: 10px;
  font-size: 14px;
  color: var(--muted);
}

/* =========================
   TWO COLUMN BLOCK
========================= */
.two-col{
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 18px;
  margin-top: 10px;
}

.two-col p{
  margin: 0 0 8px;
  font-weight: 700;
  color: var(--ink);
}

/* =========================
   FOOTER
========================= */
footer{
  max-width: var(--max);
  margin: 34px auto 26px;
  padding: 0 20px;
  text-align: center;
  color: #6b7280;
  font-size: 13px;
}

/* =========================
   RESPONSIVE
========================= */
@media (max-width: 820px){
  .hero h2{
    font-size: 26px;
  }

  .two-col{
    grid-template-columns: 1fr;
  }

  header{
    margin-top: 28px;
  }
}
/* --- FIX VEGA-EMBED OVERFLOW + ALIGNMENT --- */

/* Each chart block */
.viz{
  margin-top: 22px;
}

/* Keep charts centered, but keep text left-aligned */
.viz figure{
  margin: 0;
  display: flex;
  justify-content: center;  /* centers the rendered chart */
}

/* Vega embed wrapper: keep everything inside the card */
.viz .vega-embed{
  width: 100%;
  max-width: 100%;
  overflow-x: auto;         /* prevents overflow on smaller screens */
}

/* Make the internal SVG/canvas responsive within the wrapper */
.viz .vega-embed .vega-view{
  width: 100%;
  max-width: 100%;
}

/* Bind controls (dropdown/slider): keep them inside, left-aligned */
.viz .vega-bindings{
  display: flex;
  flex-wrap: wrap;
  gap: 10px 14px;
  justify-content: flex-start;
  align-items: center;
  margin: 0 0 10px 0;
  max-width: 100%;
}

/* Prevent long labels from pushing controls out */
.viz .vega-bindings label{
  max-width: 100%;
  white-space: normal;
}

/* Make inputs behave on narrow screens */
.viz .vega-bindings select,
.viz .vega-bindings input[type="range"]{
  max-width: 100%;
}

/* Optional: slightly smaller control text so it fits */
.viz .vega-bindings,
.viz .vega-bindings label{
  font-size: 13px;
}
